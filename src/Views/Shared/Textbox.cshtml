@model form_builder.Models.Element
@{
    var hintId = $"{Model.Properties.QuestionId}-hint";
    var errorId = $"{Model.Properties.QuestionId}-error";
}

<div>
    <label @Model.WriteOptional() for="@Model.Properties.QuestionId">@Model.Properties.Label</label>

    @if (Model.Properties?.Optional ?? true)
    {
        <p class="optional">(optional)</p>
    }

    @if (!string.IsNullOrEmpty(Model.Properties.Hint.Trim()))
    {
        <p><span class="description" id=@hintId>@Model.Properties.Hint</span></p>
    }

    @Html.TextBox(Model.Properties.QuestionId, Model.Properties.Value, Model.GenerateElementProperties())

    @if (!Model.IsValid)
    {
        var validationMessage = string.IsNullOrEmpty(Model.Properties.CustomValidationMessage) ? Model.ValidationMessage : Model.Properties.CustomValidationMessage;
        <p class="input-error-content" id="@errorId">@validationMessage</p>
    }
</div>