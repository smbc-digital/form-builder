@using form_builder.ViewModels
@model form_builder.Models.Elements.Booking

<table class="smbc-table">
    <partial name="CalendarTableHead" model="@Model" />
    <tbody class="smbc-table-body">
        <partial name="CalendarBodyHead" model="@Model" />
        @for (int i = 0; i < Model.Calendar.Count; i += 7)
        {
            var dates = Model.Calendar.Skip(i).Take(7);
            <tr>
                @foreach (var date in dates)
                {
                    var calendarDayModel = new CalendarDayViewModel { Day = date, QuestionId = Model.QuestionId, CurrentValue = Model.Properties.Value };
                    <partial name="CalendarDay" model="@calendarDayModel" />
                }
            </tr>
        }
    </tbody>
</table>