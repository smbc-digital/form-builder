@using form_builder.Helpers
@model form_builder.Models.Element
@{
    var hintId = $"{Model.Properties.QuestionId}-hint";

    var dayId = $"{Model.Properties.QuestionId}-day";
    var monthId = $"{Model.Properties.QuestionId}-month";
    var yearId = $"{Model.Properties.QuestionId}-year";

    var errorId = $"{Model.Properties.QuestionId}-error";
    var classes = new string[] { "input-memorable-date" };
}

@await Html.BeginFieldSet(Model, classes)
<legend>
    <label @Model.WriteOptional()>@Model.Properties.Label</label>
    @if (Model.Properties?.Optional ?? true)
    {
        <p class="optional">(optional)</p>
    }
</legend>
<p id="@hintId">@Model.Properties.Hint</p>
<div>
    <label for="@dayId">
        Day
    </label>
    @Html.TextBox(dayId, Model.Properties.Day, new { maxlength = "2" })
</div>
<div>
    <label for="@monthId">
        Month
    </label>
    @Html.TextBox(monthId, Model.Properties.Month, new { maxlength = "2" })
</div>
<div>
    <label for="@yearId">
        Year
    </label>
    @Html.TextBox(yearId, Model.Properties.Year, new { maxlength = "4" })
</div>

@if (!Model.IsValid)
{
    var validationMessage = Model.ValidationMessage;
    <p class="input-error-content" id="@errorId">@validationMessage</p>
}
@await Html.EndFieldSet()
